(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(24),r=n.n(s),i=(n(66),n(26)),o=n(55),l=n(21),u=n(11),j={CREATE:"CREATE",FETCH_ALL:"FETCH_ALL",FETCH_POST:"FETCH_POST",FETCH_POSTS:"FETCH_POSTS",UPDATE:"UPDATE",LIKE:"LIKE",COMMENT:"COMMENT",DELETE:"DELETE",LOGIN:"LOGIN",LOGOUT:"LOGOUT"},d={posts:[],post:{}};var b={authData:null};var f=Object(i.b)({postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.FETCH_ALL:case j.FETCH_POSTS:return Object(u.a)(Object(u.a)({},e),{},{posts:Object(l.a)(t.payload)});case j.FETCH_POST:return Object(u.a)(Object(u.a)({},e),{},{post:t.payload});case j.CREATE:return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(l.a)(e.posts),[t.payload])});case j.UPDATE:case j.LIKE:case j.COMMENT:return Object(u.a)(Object(u.a)({},e),{},{posts:e.posts.map((function(e){return e._id==t.payload._id?t.payload:e}))});case j.DELETE:return Object(u.a)(Object(u.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!=t.payload}))});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOGIN:return localStorage.setItem("profile",JSON.stringify(Object(u.a)({},null===t||void 0===t?void 0:t.data))),Object(u.a)(Object(u.a)({},e),{},{authData:t.data});case j.LOGOUT:return localStorage.clear(),Object(u.a)(Object(u.a)({},e),{},{authData:null});default:return e}}}),O=Object(i.d)(f,Object(i.c)(Object(i.a)(o.a))),p=n(20),m=n(27),h=n(13),x=n(10),v=(n(41),n.p+"static/media/mountains_front.6e4398c7.png"),g=n.p+"static/media/mountains_back.73fa57d3.png",C=n.p+"static/media/forest_front.e2845a9f.png",N=n.p+"static/media/forest_mid.796c76d1.png",E=n.p+"static/media/forest_back.b0e53eed.png",y=n.p+"static/media/beach.48f0feb5.png",S=n.p+"static/media/bird_l.b4d3046d.png",w=n.p+"static/media/bird_r.c7e41938.png",k=n(12),T=n.n(k),P=n(19),_=n(56),D=n.n(_).a.create({baseURL:"https://calitravelogue-backend.herokuapp.com"});D.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var L=D,R="/user",I=function(e){return function(){var t=Object(P.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:j.LOGOUT}),e.push("/");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=n(0);var H=Object(p.b)((function(e){return{authData:e.authReducer.authData}}),{logout:I})((function(e){Object(h.f)();var t=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),n=Object(x.a)(t,2),a=n[0],s=(n[1],Object(c.useRef)()),r=Object(c.useRef)(),i=Object(c.useRef)(),o=Object(c.useRef)(),l=Object(c.useRef)(),u=Object(c.useRef)(),j=Object(c.useRef)(),d=Object(c.useRef)(),b=Object(c.useRef)(),f=Object(c.useRef)(),O=Object(c.useRef)(),p=Object(c.useRef)(),m=Object(c.useRef)();return window.addEventListener("scroll",(function(){var e=window.scrollY;s.current.style.backgroundPositionX=400+2*e+"px",r.current.style.backgroundPositionX=200+-1*e+"px",i.current.style.backgroundPositionX=100+2*e+"px",o.current.style.backgroundPositionX=300+-1*e+"px",l.current.style.transform="translateY(".concat(.3*e,"px)"),u.current.style.transform="translateY(".concat(-.01*e,"px)"),j.current.style.transform="translateY(".concat(.2*e,"px)"),d.current.style.transform="translateY(".concat(-.04*e,"px)"),b.current.style.transform="translateY(".concat(.3*e,"px)"),f.current.style.transform="translate(".concat(-.8*e,"px, ").concat(-.8*e,"px)"),O.current.style.transform="translate(".concat(.8*e,"px, ").concat(-1*e,"px)"),p.current.style.transform="translateY(".concat(.5*e,"px)"),m.current.style.transform="translateY(".concat(.65*e,"px)")})),Object(G.jsxs)("section",{id:"landing",children:[Object(G.jsx)("img",{src:g,ref:u,id:"mountainsBack",alt:"mountains"}),Object(G.jsx)("img",{src:v,ref:l,id:"mountainsFront",alt:"mountains"}),Object(G.jsx)("img",{src:E,ref:b,id:"forestBack",alt:"forest"}),Object(G.jsxs)("h1",{ref:p,className:"landingText",children:["California",Object(G.jsx)("span",{children:"Travelogue"})]}),Object(G.jsx)("img",{src:S,ref:f,id:"birdL",alt:"bird"}),Object(G.jsx)("img",{src:w,ref:O,id:"birdR",alt:"bird"}),Object(G.jsx)("img",{src:N,ref:d,id:"forestMid",alt:"forest"}),a?Object(G.jsxs)("h1",{ref:m,className:"welcomeText",children:["Welcome, ",a.cred.username]}):Object(G.jsx)("a",{href:"/auth",ref:m,className:"authBtn",children:"Sign In"}),Object(G.jsx)("img",{src:C,ref:j,id:"forestFront",alt:"forest"}),Object(G.jsx)("img",{src:y,id:"beach",alt:"beach"}),Object(G.jsx)("div",{className:"wave",ref:o,id:"wback"}),Object(G.jsx)("div",{className:"wave",ref:i,id:"wmid2"}),Object(G.jsx)("div",{className:"wave",ref:r,id:"wmid"}),Object(G.jsx)("div",{className:"wave",ref:s,id:"wfront"})]})})),M=(n(90),n(33),n(8)),F=n(25),q=n(58),A=n.n(q),B="/post",U=n(4),Y=n.n(U),J={title:"",tags:[],content:""};var z=Object(p.b)((function(e){return{posts:e.postReducer.posts}}),{createPost:function(e,t){return function(){var n=Object(P.a)(T.a.mark((function n(c){return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.post(B,e).then((function(e){c({type:j.CREATE,payload:e.data}),t()})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},updatePost:function(e,t,n){return function(){var c=Object(P.a)(T.a.mark((function c(a){return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L.put("".concat(B,"/").concat(e),t).then((function(e){a({type:j.UPDATE,payload:e.data}),n()})).catch((function(e){return console.log(e)}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=Object(c.useState)(J),n=Object(x.a)(t,2),s=n[0],r=n[1];Object(c.useEffect)((function(){0!=e.postID&&r(Object(u.a)({},e.post))}),[e.postID]);for(var i=Object(c.useState)([]),o=Object(x.a)(i,2),j=o[0],d=o[1],b=Object(c.useState)(0),f=Object(x.a)(b,2),O=f[0],p=f[1],m=[],h=0;h<O;h++)m.push(Object(G.jsx)(A.a,{type:"file",multiple:!1,onDone:function(e){return v(e.base64)}}));function v(e){d([].concat(Object(l.a)(j),[e]))}function g(e){r(Object(u.a)(Object(u.a)({},s),{},Object(F.a)({},e.target.name,e.target.value)))}function C(){r(J),d([]),p(0)}var N=e.author.cred,E=N.username,y=N._id;return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)("div",{className:"appbar",children:Object(G.jsx)("a",{href:"javascript:undefined","data-text":"CLOSE",onClick:function(){C(),e.onHide()},children:Object(G.jsx)(M.a,{icon:["fas","times"]})})}),Object(G.jsxs)("form",{id:"postForm",autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),"guest"==y)Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"You must sign in to post.",scheme:U.Cinnamon.Crisp.SCHEME_RED})});else if(j.length<1)Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"Please include at least 1 picture.",scheme:U.Cinnamon.Crisp.SCHEME_RED})});else{var n={title:s.title,author:E,album:j,tags:s.tags,content:s.content};0==e.postID?e.createPost(n,(function(){Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"Posted!",scheme:U.Cinnamon.Crisp.SCHEME_GREEN})})})):e.updatePost(e.postID,n,(function(){Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"Change Submitted!",scheme:U.Cinnamon.Crisp.SCHEME_GREEN})})})),C(),e.onHide()}},children:[Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox",children:[Object(G.jsx)("input",{type:"text",name:"title",onChange:g,value:s.title,required:!0}),Object(G.jsx)("span",{className:"placeholder",children:"Title"}),Object(G.jsx)("span",{className:"line"})]})})}),Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox",children:[Object(G.jsx)("input",{type:"text",name:"tags",onChange:function(e){r(Object(u.a)(Object(u.a)({},s),{},{tags:e.target.value.split(",")}))},value:s.tags}),Object(G.jsx)("span",{className:"placeholder",children:"Tags"}),Object(G.jsx)("span",{className:"line"})]})})}),Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox textBox",children:[Object(G.jsx)("textarea",{name:"content",onChange:g,value:s.content,required:!0}),Object(G.jsx)("span",{className:"placeholder",children:"Content"}),Object(G.jsx)("span",{className:"line"})]})})}),Object(G.jsxs)("div",{className:"fileUpload",children:[Object(G.jsxs)("div",{className:"fileCtrl",children:[Object(G.jsx)("a",{href:"javascript:undefined",onClick:function(){return p(O+1)},children:"Add Picture(s)"}),Object(G.jsx)("a",{href:"javascript:undefined",onClick:function(){return d([]),void p(0)},children:"Reset Pictures"})]}),m,Object(G.jsx)("small",{children:"1st picture will be the thumbnail"}),Object(G.jsx)("small",{children:"total size limit: 10MB"})]}),Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("button",{type:"submit",children:"Submit"})})]})]})}));n(51);var K=function(e){var t=e.post,n=t.title,c=t.author,a=t.album,s=t.tags,r=t.likes,i=t._id,o=t.comments;return Object(G.jsxs)("div",{className:"card",children:[Object(G.jsx)("div",{className:"cover",onClick:function(){return e.onSelect(i)},children:Object(G.jsx)("img",{src:a[0]})}),Object(G.jsx)("div",{className:"title",children:Object(G.jsx)("h1",{children:n})}),Object(G.jsxs)("div",{className:"info",children:[Object(G.jsxs)("div",{id:"author",children:["by",Object(G.jsx)("span",{children:c})]}),Object(G.jsx)("div",{className:"tags",children:null===s||void 0===s?void 0:s.filter((function(e){return""!==e})).map((function(e){return Object(G.jsx)("span",{children:e})}))}),Object(G.jsxs)("div",{className:"social",children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("a",{href:"javascript:undefined",onClick:function(){return e.onLike(i)},children:r.includes(e.userID)?Object(G.jsx)(M.a,{icon:["fas","heart"],className:"active"}):Object(G.jsx)(M.a,{icon:["fas","heart"],className:"inactive"})}),Object(G.jsx)("span",{children:r.length})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("a",{href:"javascript:undefined",children:Object(G.jsx)(M.a,{icon:["fas","comment"]})}),Object(G.jsx)("span",{children:o.length})]})]})]})]})},X=n(110),V=n(108),W=n(109),Q=n(107);n(93),n(94);W.a.use([Q.a]);var Z=function(e){var t=Object(c.useState)(null),n=Object(x.a)(t,2),s=n[0],r=n[1];function i(){S(),e.onHide()}var o=Object(c.useState)([]),u=Object(x.a)(o,2),j=u[0],d=u[1],b=Object(c.useState)(!1),f=Object(x.a)(b,2),O=f[0],p=f[1];Object(c.useEffect)((function(){O?document.querySelector(".comments").classList.add("show"):document.querySelector(".comments").classList.remove("show")}),[O]);var m=Object(c.useState)([]),h=Object(x.a)(m,2),v=h[0],g=h[1];Object(c.useEffect)((function(){d(e.post.comments),g(e.post.likes)}),[e.post]);var C=Object(c.useState)(""),N=Object(x.a)(C,2),E=N[0],y=N[1];function S(){y("")}var w=e.post,k=w._id,T=w.title,P=w.author,_=w.authorUID,D=w.tags,L=w.album,R=w.content,I=e.user.cred.username;return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)("div",{className:"appbar",children:[Object(G.jsx)("a",{href:"javascript:undefined","data-text":"CLOSE",onClick:i,children:Object(G.jsx)(M.a,{icon:["fas","times"]})}),e.user.cred._id==_&&Object(G.jsx)("a",{href:"javascript:undefined","data-text":"EDIT",onClick:function(){e.onEdit(k)},children:Object(G.jsx)(M.a,{icon:["fas","edit"]})}),e.user.cred._id==_&&Object(G.jsx)("a",{href:"javascript:undefined","data-text":"DELETE",onClick:function(){e.onDelete(k),i()},children:Object(G.jsx)(M.a,{icon:["fas","trash"]})})]}),Object(G.jsxs)("div",{className:"post header",children:[Object(G.jsx)("div",{className:"title",children:Object(G.jsx)("h1",{children:T})}),Object(G.jsxs)("div",{id:"author",children:["by",Object(G.jsx)("span",{children:P})]}),Object(G.jsx)("div",{className:"tags",children:null===D||void 0===D?void 0:D.filter((function(e){return""!==e})).map((function(e){return Object(G.jsx)("span",{children:e})}))})]}),Object(G.jsxs)("div",{className:"album",children:[Object(G.jsx)(X.a,{spaceBetween:10,thumbs:{swiper:s},className:"albumReel",children:null===L||void 0===L?void 0:L.map((function(e){return Object(G.jsx)(V.a,{children:Object(G.jsx)("img",{src:e})})}))}),Object(G.jsx)(X.a,{onSwiper:r,spaceBetween:0,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,className:"albumThumbs",children:null===L||void 0===L?void 0:L.map((function(e){return Object(G.jsx)(V.a,{children:Object(G.jsx)("img",{src:e})})}))})]}),Object(G.jsxs)("div",{className:"post content",children:[Object(G.jsx)("div",{className:"address"}),Object(G.jsx)("div",{className:"location"}),Object(G.jsx)("div",{className:"content",children:Object(G.jsx)("p",{children:R})})]}),Object(G.jsxs)("div",{className:"post social",children:[Object(G.jsxs)("div",{className:"counts",children:[Object(G.jsxs)("div",{className:"count",children:[Object(G.jsx)("a",{href:"javascript:undefined",onClick:function(){"guest"==e.user.cred._id?Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"You must sign in to like a post.",scheme:U.Cinnamon.Crisp.SCHEME_RED})}):(e.onLike(e.post._id),v.includes(e.user.cred._id)?g(v.filter((function(t){return t!==e.user.cred._id}))):g((function(t){return[].concat(Object(l.a)(t),[e.user.cred._id])})))},children:(null===v||void 0===v?void 0:v.includes(e.user.cred._id))?Object(G.jsx)(M.a,{icon:["fas","heart"],className:"active"}):Object(G.jsx)(M.a,{icon:["fas","heart"],className:"inactive"})}),Object(G.jsx)("span",{children:null===v||void 0===v?void 0:v.length})]}),Object(G.jsxs)("div",{className:"count",children:[Object(G.jsx)("a",{href:"javascript:undefined",onClick:function(){return p(!O)},children:Object(G.jsx)(M.a,{icon:["fas","comment"]})}),Object(G.jsx)("span",{children:null===j||void 0===j?void 0:j.length})]})]}),Object(G.jsxs)("div",{id:"comment",className:"wrapper",children:[Object(G.jsx)("div",{className:"comments",children:null===j||void 0===j?void 0:j.map((function(e){return Object(G.jsx)("p",{children:e})}))}),Object(G.jsxs)("form",{id:"commentForm",autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),"guest"==e.user.cred._id)Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"You must sign in to comment.",scheme:U.Cinnamon.Crisp.SCHEME_RED})});else{var n=I+" : "+E;e.onComment(n,e.post._id),S(),d((function(e){return[].concat(Object(l.a)(e),[n])}))}},children:[Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox textBox",children:[Object(G.jsx)("textarea",{value:E,onChange:function(e){y(e.target.value)},required:!0}),Object(G.jsx)("span",{className:"placeholder",children:"Leave a Comment"}),Object(G.jsx)("span",{className:"line"})]})})}),Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("button",{type:"submit",children:"Submit"})})]})]})]})]})},$=n(59),ee=n(60),te={cred:{username:"guest",_id:"guest"}};var ne=Object(p.b)((function(e){return{posts:e.postReducer.posts,post:e.postReducer.post,authData:e.authReducer.authData}}),{fetchPost:function(e){return function(){var t=Object(P.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.get("".concat(B,"/").concat(e)).then((function(e){return n({type:j.FETCH_POST,payload:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchPosts:function(e,t,n){return function(){var c=Object(P.a)(T.a.mark((function c(a){return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L.get("".concat(B,"?page=").concat(e,"&category=").concat(t,"&query=").concat(n)).then((function(e){return a({type:j.FETCH_POSTS,payload:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},likePost:function(e){return function(){var t=Object(P.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.put("".concat(B,"/").concat(e,"/like")).then((function(e){n({type:j.UPDATE,payload:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},commentPost:function(e,t){return function(){var n=Object(P.a)(T.a.mark((function n(c){return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.put("".concat(B,"/").concat(e,"/comment"),t).then((function(e){c({type:j.COMMENT,payload:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},logout:I,deletePost:function(e,t){return function(){var n=Object(P.a)(T.a.mark((function n(c){return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.delete("".concat(B,"/").concat(e)).then((function(n){c({type:j.DELETE,payload:e}),t()})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=Object(c.useState)(""),n=Object(x.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)("All"),i=Object(x.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)({query:"",category:"All"}),j=Object(x.a)(u,2),d=j[0],b=j[1],f=Object(c.useState)(!1),O=Object(x.a)(f,2),p=O[0],m=O[1],v=Object(c.useState)(1),g=Object(x.a)(v,2),C=g[0],N=g[1];function E(e){l(e),m(!p)}Object(c.useEffect)((function(){J()}),[p]),Object(c.useEffect)((function(){1==C?e.fetchPosts(C,d.category,d.query):N(1)}),[d]),Object(c.useEffect)((function(){e.fetchPosts(C,d.category,d.query)}),[C]),Object(c.useEffect)((function(){e.fetchPosts(C,o,a)}),[]);var y=Object(h.f)(),S=Object(h.g)(),w=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),k=Object(x.a)(w,2),T=k[0],P=k[1];Object(c.useEffect)((function(){var e=null===T||void 0===T?void 0:T.token;e&&(1e3*Object(ee.a)(e).exp<(new Date).getTime()&&_());P(JSON.parse(localStorage.getItem("profile")))}),[S]);var _=function(){e.logout(y),P(null),window.location.reload()},D=Object(c.useState)({}),L=Object(x.a)(D,2),R=L[0],I=L[1],H=Object(c.useState)(""),F=Object(x.a)(H,2),q=F[0],A=F[1];function B(e){"form"!=e&&"post"!=e||document.querySelector("body").classList.add("noScroll"),A(e)}function J(){document.querySelector("body").classList.remove("noScroll"),A("")}var X=Object(c.useState)(""),V=Object(x.a)(X,2),W=V[0],Q=V[1];function ne(e){Q(e),B("post")}function ce(){Q(""),oe(0),J()}function ae(t){T?e.likePost(t):Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"You must sign in to like a post.",scheme:U.Cinnamon.Crisp.SCHEME_RED})})}Object(c.useEffect)((function(){e.fetchPost(W)}),[W]);var se=Object(c.useState)(0),re=Object(x.a)(se,2),ie=re[0],oe=re[1];return Object(G.jsxs)("section",{id:"travelogue",children:[Object(G.jsxs)("div",{className:"appbar",children:[Object(G.jsx)("a",{href:"javascript:undefined","data-text":"FEED",onClick:function(){b({query:"",category:"All"})},children:Object(G.jsx)(M.a,{icon:["fas","poll-h"]})}),T?Object(G.jsx)("a",{href:"javascript:undefined","data-text":"PROFILE",onClick:function(){R.enabled?I({}):I({enabled:!0})},children:Object(G.jsx)(M.a,{icon:["fas","users-cog"]})}):Object(G.jsx)("a",{href:"/auth#auth","data-text":"SIGN IN",children:Object(G.jsx)(M.a,{icon:["fas","sign-in-alt"]})}),Object(G.jsx)("a",{href:"javascript:undefined","data-text":"POST",onClick:function(){return B("form")},children:Object(G.jsx)(M.a,{icon:["fas","plus"]})})]}),Object(G.jsxs)($.CSSTransitionGroup,{className:"appbar options ".concat(R.enabled&&"enabled"),transitionName:"btn",transitionLeaveTimeout:500,children:[R.enabled&&Object(G.jsx)("a",{href:"javascript:undefined","data-text":"MY POSTS",onClick:function(){b({query:T.cred.username,category:"Author"})},children:Object(G.jsx)(M.a,{icon:["fas","comment-alt"]})}),R.enabled&&Object(G.jsx)("a",{href:"javascript:undefined","data-text":"SIGN OUT",onClick:_,children:Object(G.jsx)(M.a,{icon:["fas","sign-out-alt"]})}),R.enabled&&Object(G.jsx)("a",{href:"javascript:undefined","data-text":"LIKED",onClick:function(){b({query:T.cred._id,category:"MyLikes"})},children:Object(G.jsx)(M.a,{style:{color:"red"},icon:["fas","heart"]})})]}),Object(G.jsxs)("div",{id:"searchbar",className:"wrapper ".concat(R.enabled&&"optionsEnabled"),children:[Object(G.jsx)("form",{id:"searchForm",autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox",children:[Object(G.jsx)("input",{type:"text",name:"query",onChange:function(e){s(e.target.value)},value:a}),Object(G.jsx)("span",{className:"placeholder",children:"Search"}),Object(G.jsx)("span",{className:"line"})]})})})}),Object(G.jsxs)("div",{className:"dropdown",onClick:function(){return B("category")},children:[Object(G.jsx)("span",{className:"category"==q?"show":"",children:o}),Object(G.jsxs)("div",{className:"content ".concat("category"==q?"show":""),children:[Object(G.jsx)("span",{onClick:function(){return E("All")},children:"All"}),Object(G.jsx)("span",{onClick:function(){return E("Title")},children:"Title"}),Object(G.jsx)("span",{onClick:function(){return E("Author")},children:"Author"}),Object(G.jsx)("span",{onClick:function(){return E("Tag")},children:"Tag"})]})]}),Object(G.jsx)("a",{href:"javascript:undefined",onClick:function(){b({query:a,category:o})},children:Object(G.jsx)(M.a,{icon:["fas","search"]})})]}),Object(G.jsxs)("div",{className:"pagination ".concat(R.enabled&&"optionsEnabled"),children:[Object(G.jsx)("button",{href:"javascript:undefined",onClick:function(){return N(C-1)},disabled:C<=1,className:"btn paginate",children:Object(G.jsx)(M.a,{icon:["fas","chevron-left"]})}),Object(G.jsx)("button",{href:"javascript:undefined",onClick:function(){return N(C+1)},disabled:e.posts.length<6,className:"btn paginate",children:Object(G.jsx)(M.a,{icon:["fas","chevron-right"]})})]}),Object(G.jsx)("div",{className:"postContainer ".concat(R.enabled&&"optionsEnabled"),children:e.posts.length>0?e.posts.map((function(e){return Object(G.jsx)(K,{post:e,userID:null===T||void 0===T?void 0:T.cred._id,onSelect:ne,onLike:ae})})):Object(G.jsx)("h1",{style:{color:"white",fontSize:"5em"},children:"Nothing Here!"})}),Object(G.jsx)("section",{id:"formOverlay",className:"overlay ".concat("form"==q?"show":""),children:Object(G.jsx)(z,{onHide:ce,author:T||te,postID:ie,post:ie==e.post._id&&e.post})}),Object(G.jsx)("section",{id:"fullOverlay",className:"overlay ".concat("post"==q?"show":""),children:Object(G.jsx)(Z,{onHide:ce,post:e.post,onComment:function(t,n){e.commentPost(n,{value:t})},onLike:ae,onEdit:function(e){oe(e),Q(e),B("form")},onDelete:function(t){e.deletePost(t,(function(){Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"Deleted!",scheme:U.Cinnamon.Crisp.SCHEME_GREEN})})}))},user:T||te})})]})}));var ce=function(){return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(H,{}),Object(G.jsx)(ne,{})]})},ae={username:"",email:"",password:"",confirmPassword:""};var se=Object(p.b)((function(e){return{authData:e.authReducer.authData}}),{signUp:function(e,t,n){return function(){var c=Object(P.a)(T.a.mark((function c(a){return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L.post("".concat(R,"/signup"),e).then((function(e){a({type:j.LOGIN,data:e.data}),t.push("/")})).catch((function(e){console.log(e),n()}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},login:function(e,t,n){return function(){var c=Object(P.a)(T.a.mark((function c(a){return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L.post("".concat(R,"/signin"),e).then((function(e){a({type:j.LOGIN,data:e.data}),t.push("/")})).catch((function(e){console.log(e),n()}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=Object(h.f)(),n=Object(c.useState)(ae),a=Object(x.a)(n,2),s=a[0],r=a[1];function i(e){r(Object(u.a)(Object(u.a)({},s),{},Object(F.a)({},e.target.name,e.target.value)))}var o=Object(c.useState)(!0),l=Object(x.a)(o,2),j=l[0],d=l[1];return Object(G.jsxs)("section",{id:"landing",children:[Object(G.jsx)("img",{src:g,id:"mountainsBack",alt:"mountains"}),Object(G.jsx)("img",{src:v,id:"mountainsFront",alt:"mountains"}),Object(G.jsx)("img",{src:E,id:"forestBack",alt:"forest"}),Object(G.jsx)("img",{src:S,id:"birdL",alt:"bird"}),Object(G.jsx)("img",{src:w,id:"birdR",alt:"bird"}),Object(G.jsx)("img",{src:N,id:"forestMid",alt:"forest"}),Object(G.jsx)("img",{src:C,id:"forestFront",alt:"forest"}),Object(G.jsx)("img",{src:y,id:"beach",alt:"beach"}),Object(G.jsx)("div",{className:"wave",id:"wback"}),Object(G.jsx)("div",{className:"wave",id:"wmid2"}),Object(G.jsx)("div",{className:"wave",id:"wmid"}),Object(G.jsx)("div",{className:"wave",id:"wfront"}),Object(G.jsxs)("div",{className:"appbar",children:[Object(G.jsx)("a",{href:"javascript:undefined","data-text":"SIGN IN",onClick:function(){return d(!0)},children:Object(G.jsx)(M.a,{icon:["fas","sign-in-alt"]})}),Object(G.jsx)("a",{href:"/","data-text":"CLOSE",children:Object(G.jsx)(M.a,{icon:["fas","times"]})}),Object(G.jsx)("a",{href:"javascript:undefined","data-text":"SIGN UP",onClick:function(){return d(!1)},children:Object(G.jsx)(M.a,{icon:["fas","user-plus"]})})]}),Object(G.jsxs)("form",{id:"authForm",autoComplete:"off",onSubmit:function(n){n.preventDefault(),j?e.login(s,t,(function(){Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"Incorrect email/password",scheme:U.Cinnamon.Crisp.SCHEME_RED})})})):s.password!==s.confirmPassword?Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"Passwords do not match!",scheme:U.Cinnamon.Crisp.SCHEME_RED})}):e.signUp(s,t,(function(){Y.a.raise({content:Object(G.jsx)(U.Cinnamon.Crisp,{title:"Email already in use.",scheme:U.Cinnamon.Crisp.SCHEME_RED})})}))},children:[Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox",children:[Object(G.jsx)("input",{type:"text",name:"email",value:s.email,onChange:i,required:!0}),Object(G.jsx)("span",{className:"placeholder",children:"Email"}),Object(G.jsx)("span",{className:"line"})]})})}),!j&&Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox",children:[Object(G.jsx)("input",{type:"text",name:"username",value:s.username,onChange:i,required:!0}),Object(G.jsx)("span",{className:"placeholder",children:"User Name"}),Object(G.jsx)("span",{className:"line"})]})})}),Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox",children:[Object(G.jsx)("input",{type:"password",name:"password",value:s.password,onChange:i,required:!0}),Object(G.jsx)("span",{className:"placeholder",children:"Password"}),Object(G.jsx)("span",{className:"line"})]})})}),!j&&Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("div",{className:"formControl",children:Object(G.jsxs)("div",{className:"inputBox",children:[Object(G.jsx)("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:i,required:!0}),Object(G.jsx)("span",{className:"placeholder",children:"Confirm Password"}),Object(G.jsx)("span",{className:"line"})]})})}),Object(G.jsx)("div",{className:"formGroup",children:Object(G.jsx)("button",{type:"submit",children:"Submit"})})]})]})})),re=n(22),ie=n(61);re.b.add(ie.a);var oe=function(){return Object(G.jsx)(p.a,{store:O,children:Object(G.jsxs)(m.a,{children:[Object(G.jsx)(Y.a,{position:{vertical:U.POS_TOP,horizontal:U.POS_CENTER}}),Object(G.jsxs)(h.c,{children:[Object(G.jsx)(h.a,{path:"/",exact:!0,component:ce}),Object(G.jsx)(h.a,{path:"/auth",exact:!0,component:se})]})]})})};r.a.render(Object(G.jsx)(oe,{}),document.getElementById("root"))},33:function(e,t,n){},41:function(e,t,n){},51:function(e,t,n){},66:function(e,t,n){},90:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.69c38a63.chunk.js.map